<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: TestReve</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">TestReve</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/test/test_reve_rb.html">
                test/test_reve.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Test::Unit::TestCase
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000070">get_api</a>&nbsp;&nbsp;
      <a href="#M000071">kills_cleanly</a>&nbsp;&nbsp;
      <a href="#M000001">setup</a>&nbsp;&nbsp;
      <a href="#M000002">teardown</a>&nbsp;&nbsp;
      <a href="#M000063">test_all_raise_errors</a>&nbsp;&nbsp;
      <a href="#M000036">test_alliances_clean</a>&nbsp;&nbsp;
      <a href="#M000055">test_amarr_titan_skill_in_training_clean</a>&nbsp;&nbsp;
      <a href="#M000030">test_assets_clean</a>&nbsp;&nbsp;
      <a href="#M000062">test_assignment</a>&nbsp;&nbsp;
      <a href="#M000010">test_bad_xml</a>&nbsp;&nbsp;
      <a href="#M000059">test_certificate_sheet</a>&nbsp;&nbsp;
      <a href="#M000058">test_character_medals</a>&nbsp;&nbsp;
      <a href="#M000060">test_character_sheet_clean</a>&nbsp;&nbsp;
      <a href="#M000033">test_characters_clean</a>&nbsp;&nbsp;
      <a href="#M000008">test_charid_default_works_when_characterid_is_nil</a>&nbsp;&nbsp;
      <a href="#M000016">test_check_exception_with_bad_xml_document</a>&nbsp;&nbsp;
      <a href="#M000019">test_conqurable_stations_clean</a>&nbsp;&nbsp;
      <a href="#M000020">test_convert_characterids_to_names</a>&nbsp;&nbsp;
      <a href="#M000021">test_convert_characternames_to_ids</a>&nbsp;&nbsp;
      <a href="#M000044">test_corporate_assets_list_clean</a>&nbsp;&nbsp;
      <a href="#M000028">test_corporate_factional_war_stats_clean</a>&nbsp;&nbsp;
      <a href="#M000023">test_corporate_industry_jobs_clean</a>&nbsp;&nbsp;
      <a href="#M000032">test_corporate_kills_clean</a>&nbsp;&nbsp;
      <a href="#M000040">test_corporate_market_orders_clean</a>&nbsp;&nbsp;
      <a href="#M000056">test_corporate_medals</a>&nbsp;&nbsp;
      <a href="#M000057">test_corporate_member_medals</a>&nbsp;&nbsp;
      <a href="#M000061">test_corporate_member_security</a>&nbsp;&nbsp;
      <a href="#M000042">test_corporate_wallet_balance_clean</a>&nbsp;&nbsp;
      <a href="#M000043">test_corporate_wallet_journal_clean</a>&nbsp;&nbsp;
      <a href="#M000041">test_corporate_wallet_transactions</a>&nbsp;&nbsp;
      <a href="#M000018">test_corporation_sheet_clean</a>&nbsp;&nbsp;
      <a href="#M000017">test_errors_api_call</a>&nbsp;&nbsp;
      <a href="#M000026">test_faction_war_stats_clean</a>&nbsp;&nbsp;
      <a href="#M000025">test_faction_war_system_stats_alias_clean</a>&nbsp;&nbsp;
      <a href="#M000024">test_faction_war_system_stats_clean</a>&nbsp;&nbsp;
      <a href="#M000029">test_faction_war_top_stats_clean</a>&nbsp;&nbsp;
      <a href="#M000015">test_for_bad_uri_passed_to_method</a>&nbsp;&nbsp;
      <a href="#M000068">test_format_url_request_nil_value</a>&nbsp;&nbsp;
      <a href="#M000066">test_format_url_request_one_arg</a>&nbsp;&nbsp;
      <a href="#M000067">test_format_url_request_two_args</a>&nbsp;&nbsp;
      <a href="#M000064">test_get_xml_from_filesystem</a>&nbsp;&nbsp;
      <a href="#M000065">test_get_xml_from_filesystem_missing_file</a>&nbsp;&nbsp;
      <a href="#M000031">test_kills_clean</a>&nbsp;&nbsp;
      <a href="#M000009">test_makes_a_complex_hash</a>&nbsp;&nbsp;
      <a href="#M000007">test_makes_a_simple_hash</a>&nbsp;&nbsp;
      <a href="#M000004">test_makes_right_api_1_param</a>&nbsp;&nbsp;
      <a href="#M000005">test_makes_right_api_2_param</a>&nbsp;&nbsp;
      <a href="#M000006">test_makes_right_api_3_param</a>&nbsp;&nbsp;
      <a href="#M000003">test_makes_right_api_empty</a>&nbsp;&nbsp;
      <a href="#M000045">test_map_jumps_clean</a>&nbsp;&nbsp;
      <a href="#M000046">test_map_kills_clean</a>&nbsp;&nbsp;
      <a href="#M000039">test_market_orders_clean</a>&nbsp;&nbsp;
      <a href="#M000052">test_member_corporation_sheet_clean</a>&nbsp;&nbsp;
      <a href="#M000051">test_member_tracking_clean</a>&nbsp;&nbsp;
      <a href="#M000054">test_no_skill_in_training_clean</a>&nbsp;&nbsp;
      <a href="#M000053">test_nonmember_corporation_sheet_clean</a>&nbsp;&nbsp;
      <a href="#M000027">test_personal_factional_war_stats_clean</a>&nbsp;&nbsp;
      <a href="#M000022">test_personal_industry_jobs_clean</a>&nbsp;&nbsp;
      <a href="#M000038">test_reftypes_clean</a>&nbsp;&nbsp;
      <a href="#M000014">test_saving_xml_when_404</a>&nbsp;&nbsp;
      <a href="#M000012">test_saving_xml_when_save_path_is_nil</a>&nbsp;&nbsp;
      <a href="#M000013">test_saving_xml_with_bad_short_tag</a>&nbsp;&nbsp;
      <a href="#M000011">test_saving_xml_works</a>&nbsp;&nbsp;
      <a href="#M000047">test_skill_tree_clean</a>&nbsp;&nbsp;
      <a href="#M000037">test_sovereignty_clean</a>&nbsp;&nbsp;
      <a href="#M000035">test_starbase_fuel_clean</a>&nbsp;&nbsp;
      <a href="#M000034">test_starbases_clean</a>&nbsp;&nbsp;
      <a href="#M000069">test_to_time_method</a>&nbsp;&nbsp;
      <a href="#M000048">test_wallet_balance_clean</a>&nbsp;&nbsp;
      <a href="#M000050">test_wallet_journal_clean</a>&nbsp;&nbsp;
      <a href="#M000049">test_wallet_transactions_clean</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="#M000001" class="method-signature">
          <span class="method-name">setup</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000001-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000001-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 10</span>
10:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup</span>
11:     <span class="ruby-ivar">@api</span> = <span class="ruby-identifier">get_api</span>
12:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
13:     <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-constant">SAVE_PATH</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
14:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="#M000002" class="method-signature">
          <span class="method-name">teardown</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000002-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000002-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">teardown</span>
16:     <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-constant">SAVE_PATH</span>)
17:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">
          <a href="#M000063" class="method-signature">
          <span class="method-name">test_all_raise_errors</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Laziness pays off I hope
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000063-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000063-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1053</span>
1053:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_all_raise_errors</span>
1054:     <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'errors'</span>,<span class="ruby-value str">'*.xml'</span>)).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
1055:       <span class="ruby-comment cmt"># Using begin/rescue/assert here because assert_raise doesn't work with.</span>
1056:       <span class="ruby-comment cmt"># the exception superclass.</span>
1057:       <span class="ruby-keyword kw">begin</span>
1058:         <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:check_exception</span>,(<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">file</span>).<span class="ruby-identifier">read</span>))
1059:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
1060:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Exceptions</span><span class="ruby-operator">::</span><span class="ruby-constant">ReveError</span>)
1061:       <span class="ruby-keyword kw">end</span>
1062:     <span class="ruby-keyword kw">end</span>
1063:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="#M000036" class="method-signature">
          <span class="method-name">test_alliances_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000036-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 512</span>
512:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_alliances_clean</span>
513:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">alliances_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'alliances.xml'</span>
514:     <span class="ruby-identifier">alliances</span> = <span class="ruby-keyword kw">nil</span>
515:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
516:       <span class="ruby-identifier">alliances</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">alliances</span>
517:     <span class="ruby-keyword kw">end</span>
518:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
519:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
520:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">alliances</span>.<span class="ruby-identifier">size</span>
521:     <span class="ruby-identifier">corpsize</span> = <span class="ruby-value">0</span>
522:     <span class="ruby-identifier">alliances</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">alliance</span><span class="ruby-operator">|</span>
523:       <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">Alliance</span>, <span class="ruby-identifier">alliance</span>
524:       <span class="ruby-identifier">assert_not_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">member_corporations</span>
525:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">name</span>
526:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">id</span>
527:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">short_name</span>
528:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">member_count</span>
529:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">executor_corp_id</span>
530:       <span class="ruby-identifier">corpsize</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">alliance</span>.<span class="ruby-identifier">member_corporations</span>.<span class="ruby-identifier">size</span>
531:     <span class="ruby-keyword kw">end</span>
532:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">150</span>, <span class="ruby-identifier">corpsize</span>
533:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="#M000055" class="method-signature">
          <span class="method-name">test_amarr_titan_skill_in_training_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000055-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000055-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 867</span>
867:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_amarr_titan_skill_in_training_clean</span>
868:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">training_skill_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'skill_in_training-amarr-titan.xml'</span>
869:     <span class="ruby-identifier">skill</span> = <span class="ruby-keyword kw">nil</span>
870:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
871:       <span class="ruby-identifier">skill</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">skill_in_training</span>(<span class="ruby-identifier">:characerid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
872:     <span class="ruby-keyword kw">end</span>
873:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
874:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
875:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">skill_in_training</span>
876:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">start_time</span>
877:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">type_id</span>
878:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">end_time</span>
879:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">to_level</span>
880:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">start_sp</span>
881:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">end_sp</span>
882:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="#M000030" class="method-signature">
          <span class="method-name">test_assets_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000030-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000030-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 421</span>
421:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assets_clean</span>
422:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_assets_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'assets.xml'</span>
423:     <span class="ruby-identifier">assets</span> = <span class="ruby-keyword kw">nil</span>
424:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
425:       <span class="ruby-identifier">assets</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_assets_list</span>
426:     <span class="ruby-keyword kw">end</span>
427:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">18</span>, <span class="ruby-identifier">assets</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># 18 single and 1 container</span>
428:     <span class="ruby-identifier">contained_assets</span> = <span class="ruby-identifier">assets</span>.<span class="ruby-identifier">inject</span>([]) { <span class="ruby-operator">|</span><span class="ruby-identifier">ass</span>,<span class="ruby-identifier">container</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ass</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">container</span>.<span class="ruby-identifier">assets</span> }.<span class="ruby-identifier">flatten</span>
429:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">contained_assets</span>.<span class="ruby-identifier">size</span>) <span class="ruby-comment cmt"># We have a container it happens to have 1 asset in it</span>
430:     <span class="ruby-identifier">contained_assets</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">asset</span><span class="ruby-operator">|</span>
431:       <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">Asset</span>, <span class="ruby-identifier">asset</span>)
432:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">item_id</span>)
433:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">type_id</span>)
434:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">quantity</span>)
435:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">flag</span>)
436:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">singleton</span>)
437:     <span class="ruby-keyword kw">end</span>
438:     <span class="ruby-identifier">assets</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">asset</span><span class="ruby-operator">|</span>
439:       <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetContainer</span>, <span class="ruby-identifier">asset</span>)
440:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">item_id</span>)
441:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">location_id</span>)
442:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">type_id</span>)
443:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">quantity</span>)
444:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">flag</span>)
445:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">asset</span>.<span class="ruby-identifier">singleton</span>)
446:     <span class="ruby-keyword kw">end</span>
447:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="#M000062" class="method-signature">
          <span class="method-name">test_assignment</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Can we reassign a URL?
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000062-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000062-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1046</span>
1046:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_assignment</span>
1047:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1048:       <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">character_sheet_url</span> = <span class="ruby-value str">&quot;hello&quot;</span>
1049:     <span class="ruby-keyword kw">end</span>
1050:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="#M000010" class="method-signature">
          <span class="method-name">test_bad_xml</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000010-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000010-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 69</span>
69:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_bad_xml</span>
70:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">training_skill_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'badxml.xml'</span>
71:     <span class="ruby-identifier">skill</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">skill_in_training</span>
72:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
73:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">
          <a href="#M000059" class="method-signature">
          <span class="method-name">test_certificate_sheet</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000059-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000059-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 944</span>
944:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_certificate_sheet</span>
945:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">certificate_tree_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'certificate_tree.xml'</span>
946:     <span class="ruby-identifier">tree</span> = <span class="ruby-keyword kw">nil</span>
947:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
948:       <span class="ruby-identifier">tree</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">certificate_tree</span>
949:     <span class="ruby-keyword kw">end</span>
950:     <span class="ruby-comment cmt"># going to hell</span>
951:     <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CertificateTree</span>, <span class="ruby-identifier">tree</span>)
952:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">size</span>)
953:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cat</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cat</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CertificateCategory</span>) }
954:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cat</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cat</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cat</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) }
955:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6</span>, <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">size</span>) <span class="ruby-comment cmt"># just 1 category</span>
956:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CertificateClass</span>) }
957:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) }
958:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cert</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">grade</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">corporation_id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">description</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) }
959:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">20</span>, <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">size</span>) 
960:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">54</span>, <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cert</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">required_skills</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">size</span>)
961:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cert</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">required_skills</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">req</span><span class="ruby-operator">|</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">level</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) }
962:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">29</span>, <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cert</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">required_certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">size</span>)
963:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">tree</span>.<span class="ruby-identifier">categories</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cert</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cert</span>.<span class="ruby-identifier">required_certificates</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">req</span><span class="ruby-operator">|</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">grade</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) }
964:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="#M000058" class="method-signature">
          <span class="method-name">test_character_medals</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000058-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000058-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 922</span>
922:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_character_medals</span>
923:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">character_medals_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'char_medals.xml'</span>
924:     <span class="ruby-identifier">obj</span> = <span class="ruby-keyword kw">nil</span>
925:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
926:       <span class="ruby-identifier">obj</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">character_medals</span>
927:     <span class="ruby-keyword kw">end</span>
928:     <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CharacterMedals</span>, <span class="ruby-identifier">obj</span>)
929:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">current_corporation</span>.<span class="ruby-identifier">size</span>)
930:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">other_corporation</span>.<span class="ruby-identifier">empty?</span>
931:     <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">current_corporation</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">medal</span><span class="ruby-operator">|</span>
932:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CharacterMedal</span>, <span class="ruby-identifier">medal</span>)
933:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">id</span>)
934:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Time</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">issued_at</span>)
935:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">String</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">reason</span>)
936:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">issuer_id</span>)
937:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">String</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">status</span>)
938:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">is_public?</span>
939:       <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">is_private?</span>      
940:     <span class="ruby-keyword kw">end</span>   
941:     
942:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">
          <a href="#M000060" class="method-signature">
          <span class="method-name">test_character_sheet_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000060-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000060-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 966</span>
 966:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_character_sheet_clean</span>
 967:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">character_sheet_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'character_sheet.xml'</span>
 968:     <span class="ruby-identifier">sheet</span> = <span class="ruby-keyword kw">nil</span>
 969:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
 970:       <span class="ruby-identifier">sheet</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">character_sheet</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
 971:     <span class="ruby-keyword kw">end</span>
 972:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
 973:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
 974:     
 975:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">name</span>
 976:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">race</span>
 977:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">bloodline</span>
 978:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">gender</span>
 979:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">id</span>
 980:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporation_name</span>
 981:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporation_id</span>
 982:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">balance</span>
 983: 
 984:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">intelligence</span>
 985:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">memory</span>
 986:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">charisma</span>
 987:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">perception</span>
 988:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">willpower</span>
 989: 
 990:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">enhancers</span>.<span class="ruby-identifier">size</span>, <span class="ruby-value str">&quot;Implant size mismatch&quot;</span>
 991:     <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">enhancers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">enhancer</span><span class="ruby-operator">|</span>
 992:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">AttributeEnhancer</span>, <span class="ruby-identifier">enhancer</span>
 993:     <span class="ruby-keyword kw">end</span>
 994:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">44842126</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">skills</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>,<span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">skillpoints</span> }, <span class="ruby-value str">&quot;Skillpoint total mismatch&quot;</span>
 995: 
 996:     <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">skills</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">skill</span><span class="ruby-operator">|</span>
 997:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">Skill</span>, <span class="ruby-identifier">skill</span>
 998:     <span class="ruby-keyword kw">end</span>
 999:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">57</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">certificate_ids</span>.<span class="ruby-identifier">size</span>,<span class="ruby-value str">&quot;Certificate ID size mismatch&quot;</span>)
1000:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">certificate_ids</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">cid</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cid</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Fixnum</span>) }
1001:     
1002:     <span class="ruby-comment cmt"># role aliases</span>
1003:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_roles_at_hq</span>.<span class="ruby-identifier">empty?</span>
1004:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_roles</span>.<span class="ruby-identifier">empty?</span>
1005:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_roles_at_base</span>.<span class="ruby-identifier">empty?</span>
1006:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_roles_at_other</span>.<span class="ruby-identifier">empty?</span>
1007:     <span class="ruby-comment cmt"># role proper methods</span>
1008:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporationRolesAtHQ</span>.<span class="ruby-identifier">empty?</span>
1009:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporationRoles</span>.<span class="ruby-identifier">empty?</span>
1010:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporationRolesAtBase</span>.<span class="ruby-identifier">empty?</span>
1011:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporationRolesAtOther</span>.<span class="ruby-identifier">empty?</span>
1012:     
1013:     [ <span class="ruby-identifier">:corporate_roles_at_hq</span>, <span class="ruby-identifier">:corporate_roles</span>, <span class="ruby-identifier">:corporate_roles_at_base</span>, <span class="ruby-identifier">:corporate_roles_at_other</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">role_kind</span><span class="ruby-operator">|</span>
1014:       <span class="ruby-identifier">r_ary</span> = <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">role_kind</span>) 
1015:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r_ary</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateRole</span>) }
1016:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r_ary</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) }
1017:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r_ary</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) }
1018:     <span class="ruby-keyword kw">end</span>
1019:     
1020:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_titles</span>.<span class="ruby-identifier">empty?</span>
1021:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_titles</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateTitle</span>) }
1022:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_titles</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) }
1023:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">corporate_titles</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) }
1024:     
1025:     
1026:     
1027:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="#M000033" class="method-signature">
          <span class="method-name">test_characters_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000033-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 459</span>
459:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_characters_clean</span>
460:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">characters_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'characters.xml'</span>
461:     <span class="ruby-identifier">chars</span> = <span class="ruby-keyword kw">nil</span>
462:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
463:       <span class="ruby-identifier">chars</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">characters</span>
464:     <span class="ruby-keyword kw">end</span>
465:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
466:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
467:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">chars</span>.<span class="ruby-identifier">size</span>
468:     <span class="ruby-identifier">chars</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">char</span><span class="ruby-operator">|</span>
469:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">char</span>.<span class="ruby-identifier">name</span>)
470:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">char</span>.<span class="ruby-identifier">id</span>)
471:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">char</span>.<span class="ruby-identifier">corporation_name</span>)
472:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">char</span>.<span class="ruby-identifier">corporation_id</span>)
473:       <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">Character</span>, <span class="ruby-identifier">char</span>
474:     <span class="ruby-keyword kw">end</span>
475:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="#M000008" class="method-signature">
          <span class="method-name">test_charid_default_works_when_characterid_is_nil</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000008-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000008-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 55</span>
55:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_charid_default_works_when_characterid_is_nil</span>
56:     <span class="ruby-comment cmt"># this line of code is wrong on so many levels.</span>
57:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;CharID&quot;</span>, <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">'uid'</span>,<span class="ruby-value str">'key'</span>,<span class="ruby-value str">'CharID'</span>).<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:postfields</span>,{})[<span class="ruby-value str">'characterid'</span>])
58:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="#M000016" class="method-signature">
          <span class="method-name">test_check_exception_with_bad_xml_document</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000016-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000016-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_check_exception_with_bad_xml_document</span>
118:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">do</span>
119:       <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:check_exception</span>,<span class="ruby-keyword kw">nil</span>)
120:     <span class="ruby-keyword kw">end</span>
121:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="#M000019" class="method-signature">
          <span class="method-name">test_conqurable_stations_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000019-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 178</span>
178:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_conqurable_stations_clean</span>
179:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">conqurable_outposts_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'conqurable_stations.xml'</span>
180:     <span class="ruby-identifier">stations</span> = <span class="ruby-keyword kw">nil</span>
181:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
182:       <span class="ruby-identifier">stations</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">conqurable_stations</span>
183:     <span class="ruby-keyword kw">end</span>
184:   
185:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">3</span>, <span class="ruby-identifier">stations</span>.<span class="ruby-identifier">size</span>
186:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
187:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
188:     
189:     <span class="ruby-identifier">stations</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">station</span><span class="ruby-operator">|</span>
190:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">station</span>.<span class="ruby-identifier">id</span>
191:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">station</span>.<span class="ruby-identifier">name</span>
192:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">station</span>.<span class="ruby-identifier">type_id</span>
193:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">station</span>.<span class="ruby-identifier">type_name</span>
194:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">station</span>.<span class="ruby-identifier">corporation_id</span>
195:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">station</span>.<span class="ruby-identifier">corporation_name</span>
196:     <span class="ruby-keyword kw">end</span>
197:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="#M000020" class="method-signature">
          <span class="method-name">test_convert_characterids_to_names</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000020-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 199</span>
199:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_convert_characterids_to_names</span>
200:     <span class="ruby-identifier">ids</span> = [ <span class="ruby-value">797400947</span>,<span class="ruby-value">892008733</span> ] <span class="ruby-comment cmt"># CCP Garthagk, Raquel Smith</span>
201:     <span class="ruby-identifier">names</span> = []
202:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
203:       <span class="ruby-identifier">names</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">character_name</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'charactername.xml'</span>, <span class="ruby-identifier">:ids</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ids</span>
204:     <span class="ruby-keyword kw">end</span>
205:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">names</span>.<span class="ruby-identifier">size</span>
206:     <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
207:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">name</span>)
208:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">id</span>)
209:     <span class="ruby-keyword kw">end</span>
210:     <span class="ruby-identifier">actual_names</span> = <span class="ruby-identifier">names</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">name</span> }
211:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actual_names</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'CCP Garthagk'</span>)
212:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actual_names</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'Raquel Smith'</span>)
213:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="#M000021" class="method-signature">
          <span class="method-name">test_convert_characternames_to_ids</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000021-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000021-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 215</span>
215:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_convert_characternames_to_ids</span>
216:     <span class="ruby-identifier">names</span> = [ <span class="ruby-value str">'CCP Garthagk'</span>, <span class="ruby-value str">'Raquel Smith'</span> ] <span class="ruby-comment cmt"># 797400947,892008733</span>
217:     <span class="ruby-identifier">ids</span> = []
218:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
219:       <span class="ruby-identifier">ids</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">names_to_ids</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'characterid.xml'</span>, <span class="ruby-identifier">:names</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">names</span>
220:     <span class="ruby-keyword kw">end</span>
221:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">size</span>
222:     <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span>
223:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">id</span>.<span class="ruby-identifier">id</span>)
224:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">id</span>.<span class="ruby-identifier">name</span>)
225:     <span class="ruby-keyword kw">end</span>
226:     <span class="ruby-identifier">actual_ids</span> = <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">id</span> }
227:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actual_ids</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">797400947</span>)
228:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">actual_ids</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">892008733</span>)
229:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="#M000044" class="method-signature">
          <span class="method-name">test_corporate_assets_list_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000044-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000044-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 663</span>
663:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_assets_list_clean</span>
664:     <span class="ruby-identifier">assets</span> = <span class="ruby-keyword kw">nil</span>
665:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
666:       <span class="ruby-identifier">assets</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_assets_list</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'corporate_assets_list.xml'</span>)
667:     <span class="ruby-keyword kw">end</span>
668:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">assets</span>.<span class="ruby-identifier">size</span>
669:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">assets</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">AssetContainer</span>) }
670:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="#M000028" class="method-signature">
          <span class="method-name">test_corporate_factional_war_stats_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000028-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000028-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 364</span>
364:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_factional_war_stats_clean</span>
365:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporate_faction_war_stats_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'corp_facwarstats.xml'</span>
366:     <span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>
367:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
368:       <span class="ruby-identifier">stats</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_faction_war_stats</span>
369:     <span class="ruby-keyword kw">end</span>
370:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateFactionWarParticpant</span>, <span class="ruby-identifier">stats</span>
371:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">500001</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_id</span>)  
372:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Caldari State&quot;</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_name</span>)
373:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2008-06-10 22:10:00&quot;</span>.<span class="ruby-identifier">to_time</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">enlisted_at</span>)
374:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">pilots</span>)
375:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_yesterday</span>)
376:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_last_week</span>)
377:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_total</span>)
378:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">124</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_yesterday</span>)
379:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">906</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_last_week</span>)
380:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2690</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_total</span>)
381:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">test_corporate_industry_jobs_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 253</span>
253:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_industry_jobs_clean</span>
254:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporate_industry_jobs_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'industryjobs.xml'</span>
255:     <span class="ruby-identifier">jobs</span> = <span class="ruby-keyword kw">nil</span>
256:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
257:       <span class="ruby-identifier">jobs</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_industry_jobs</span>
258:     <span class="ruby-keyword kw">end</span>
259:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">size</span>
260:     <span class="ruby-comment cmt"># All things got assigned something.</span>
261:     <span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">job</span><span class="ruby-operator">|</span>
262:       [ <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:assembly_line_id</span>, <span class="ruby-identifier">:container_id</span>, <span class="ruby-identifier">:installed_item_id</span>, <span class="ruby-identifier">:installed_item_location_id</span>,
263:         <span class="ruby-identifier">:installed_item_quantity</span>, <span class="ruby-identifier">:installed_item_productivity_level</span>, <span class="ruby-identifier">:installed_item_material_level</span>,
264:         <span class="ruby-identifier">:installed_item_licensed_production_runs_remaining</span>, <span class="ruby-identifier">:output_location_id</span>, <span class="ruby-identifier">:installer_id</span>, <span class="ruby-identifier">:runs</span>,
265:         <span class="ruby-identifier">:licensed_production_runs</span>, <span class="ruby-identifier">:installed_system_id</span>, <span class="ruby-identifier">:container_location_id</span>, <span class="ruby-identifier">:material_multiplier</span>,
266:         <span class="ruby-identifier">:char_material_multiplier</span>, <span class="ruby-identifier">:time_multiplier</span>, <span class="ruby-identifier">:char_time_multiplier</span>, <span class="ruby-identifier">:installed_item_type_id</span>,
267:         <span class="ruby-identifier">:output_type_id</span>, <span class="ruby-identifier">:container_type_id</span>, <span class="ruby-identifier">:installed_item_copy</span>, <span class="ruby-identifier">:completed</span>, <span class="ruby-identifier">:completed_successfully</span>, 
268:         <span class="ruby-identifier">:installed_item_flag</span>, <span class="ruby-identifier">:output_flag</span>, <span class="ruby-identifier">:activity_id</span>, <span class="ruby-identifier">:completed_status</span>, <span class="ruby-identifier">:installed_at</span>, 
269:         <span class="ruby-identifier">:begin_production_at</span>, <span class="ruby-identifier">:end_production_at</span>, <span class="ruby-identifier">:pause_production_time</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">att</span><span class="ruby-operator">|</span>
270:           <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">job</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">att</span>)
271:       <span class="ruby-keyword kw">end</span>
272:     <span class="ruby-keyword kw">end</span>
273:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="#M000032" class="method-signature">
          <span class="method-name">test_corporate_kills_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000032-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 455</span>
455:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_kills_clean</span>
456:     <span class="ruby-identifier">kills_cleanly</span>(<span class="ruby-identifier">:corporate_kills</span>,<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'kills.xml'</span>))
457:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="#M000040" class="method-signature">
          <span class="method-name">test_corporate_market_orders_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 592</span>
592:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_market_orders_clean</span>
593:     <span class="ruby-identifier">orders</span> = <span class="ruby-keyword kw">nil</span>
594:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
595:       <span class="ruby-identifier">orders</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_market_orders</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'corporate_market_orders.xml'</span>)  
596:     <span class="ruby-keyword kw">end</span>
597:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
598:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
599:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">orders</span>.<span class="ruby-identifier">size</span>    
600:     <span class="ruby-identifier">buys</span> = <span class="ruby-identifier">sells</span> = <span class="ruby-value">0</span>
601:     <span class="ruby-identifier">orders</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">order</span><span class="ruby-operator">|</span>
602:       [ <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:character_id</span>, <span class="ruby-identifier">:station_id</span>, <span class="ruby-identifier">:volume_entered</span>, <span class="ruby-identifier">:volume_remaining</span>, <span class="ruby-identifier">:minimum_volume</span>,
603:       <span class="ruby-identifier">:order_state</span>, <span class="ruby-identifier">:type_id</span>, <span class="ruby-identifier">:range</span>, <span class="ruby-identifier">:account_key</span>, <span class="ruby-identifier">:duration</span>, <span class="ruby-identifier">:escrow</span>, <span class="ruby-identifier">:price</span>, <span class="ruby-identifier">:bid</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
604:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">order</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">attr</span>))
605:       <span class="ruby-keyword kw">end</span>
606:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">created_at</span>
607:       <span class="ruby-identifier">assert</span> [<span class="ruby-constant">TrueClass</span>, <span class="ruby-constant">FalseClass</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">order</span>.<span class="ruby-identifier">bid</span>.<span class="ruby-identifier">class</span>)
608:       <span class="ruby-identifier">buys</span>  <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">bid</span>
609:       <span class="ruby-identifier">sells</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span>   <span class="ruby-identifier">order</span>.<span class="ruby-identifier">bid</span>        
610:     <span class="ruby-keyword kw">end</span>
611:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">buys</span>
612:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">sells</span>    
613:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="#M000056" class="method-signature">
          <span class="method-name">test_corporate_medals</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000056-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000056-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 884</span>
884:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_medals</span>
885:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporate_medals_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'corp_medals.xml'</span>
886:     <span class="ruby-identifier">medals</span> = <span class="ruby-keyword kw">nil</span>
887:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
888:       <span class="ruby-identifier">medals</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_medals</span>
889:     <span class="ruby-keyword kw">end</span>
890:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">12</span>, <span class="ruby-identifier">medals</span>.<span class="ruby-identifier">size</span>)
891:     <span class="ruby-identifier">medals</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">medal</span><span class="ruby-operator">|</span>
892:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateMedal</span>, <span class="ruby-identifier">medal</span>)
893:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">id</span>)
894:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">NilClass</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">issued_at</span>) <span class="ruby-comment cmt"># Doesn't exist for this class, look at created_at</span>
895:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Time</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">created_at</span>)
896:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">String</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">description</span>)
897:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">creator_id</span>)
898:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">String</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">title</span>)
899:     <span class="ruby-keyword kw">end</span>
900:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="#M000057" class="method-signature">
          <span class="method-name">test_corporate_member_medals</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000057-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000057-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 902</span>
902:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_member_medals</span>
903:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corp_member_medals_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'corp_member_medals.xml'</span>
904:     <span class="ruby-identifier">medals</span> = <span class="ruby-keyword kw">nil</span>
905:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
906:       <span class="ruby-identifier">medals</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_member_medals</span>
907:     <span class="ruby-keyword kw">end</span>
908:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">9</span>, <span class="ruby-identifier">medals</span>.<span class="ruby-identifier">size</span>)
909:     <span class="ruby-identifier">medals</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">medal</span><span class="ruby-operator">|</span>
910:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateMemberMedal</span>, <span class="ruby-identifier">medal</span>)
911:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">id</span>)
912:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Time</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">issued_at</span>)
913:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">character_id</span>)
914:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">String</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">reason</span>)
915:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Numeric</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">issuer_id</span>)
916:       <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">String</span>, <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">status</span>)
917:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">is_public?</span>
918:       <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">medal</span>.<span class="ruby-identifier">is_private?</span>
919:     <span class="ruby-keyword kw">end</span>
920:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="#M000061" class="method-signature">
          <span class="method-name">test_corporate_member_security</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000061-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000061-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1028</span>
1028:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_member_security</span>
1029:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporate_member_security_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'corp_membersecurity.xml'</span>
1030:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1031:       <span class="ruby-identifier">members</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_member_security</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
1032:     <span class="ruby-keyword kw">end</span>
1033:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">members</span>
1034:     [ <span class="ruby-identifier">:roles</span>, <span class="ruby-identifier">:grantableRoles</span>, <span class="ruby-identifier">:rolesAtHQ</span>, <span class="ruby-identifier">:grantableRolesAtHQ</span>, <span class="ruby-identifier">:rolesAtBase</span>, <span class="ruby-identifier">:grantableRolesAtBase</span>, <span class="ruby-identifier">:rolesAtOther</span>, <span class="ruby-identifier">:grantableRolesAtOther</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">role_kind</span><span class="ruby-operator">|</span>
1035:       <span class="ruby-identifier">r_ary</span> = <span class="ruby-identifier">members</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">role_kind</span>) 
1036:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r_ary</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateRole</span>) }
1037:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r_ary</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) }
1038:       <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r_ary</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">id</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>) }
1039:     <span class="ruby-keyword kw">end</span>
1040:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">members</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">titles</span>.<span class="ruby-identifier">first</span>
1041:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">members</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">titles</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">name</span>
1042:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">members</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">titles</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">id</span>
1043:     
1044:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="#M000042" class="method-signature">
          <span class="method-name">test_corporate_wallet_balance_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 632</span>
632:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_wallet_balance_clean</span>
633:     <span class="ruby-identifier">balance</span> = <span class="ruby-keyword kw">nil</span>
634:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
635:       <span class="ruby-identifier">balance</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_wallet_balance</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>, <span class="ruby-value str">'corporate_wallet_balance.xml'</span>)
636:     <span class="ruby-keyword kw">end</span>
637:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">WalletBalance</span>) }
638:     <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bal</span><span class="ruby-operator">|</span>
639:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">bal</span>.<span class="ruby-identifier">account_id</span>)
640:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">bal</span>.<span class="ruby-identifier">account_key</span>)
641:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">bal</span>.<span class="ruby-identifier">balance</span>)
642:     <span class="ruby-keyword kw">end</span>
643:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">18004409.84</span>, <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">account_key</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'1000'</span> }.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">balance</span>
644:     <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">account_key</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">'1000'</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">non_tested_account</span><span class="ruby-operator">|</span>
645:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span><span class="ruby-value">.00</span>, <span class="ruby-identifier">non_tested_account</span>.<span class="ruby-identifier">balance</span>
646:     <span class="ruby-keyword kw">end</span>
647:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="#M000043" class="method-signature">
          <span class="method-name">test_corporate_wallet_journal_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000043-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000043-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 649</span>
649:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_wallet_journal_clean</span>
650:     <span class="ruby-identifier">journal</span> = <span class="ruby-keyword kw">nil</span>
651:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
652:       <span class="ruby-identifier">journal</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_wallet_journal</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'corporate_wallet_journal.xml'</span>)
653:     <span class="ruby-keyword kw">end</span>
654:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">journal</span>.<span class="ruby-identifier">size</span>
655:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">journal</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">WalletJournal</span>) }    
656:     <span class="ruby-identifier">journal</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
657:       [ <span class="ruby-identifier">:date</span>, <span class="ruby-identifier">:ref_id</span>, <span class="ruby-identifier">:reftype_id</span>, <span class="ruby-identifier">:owner_name1</span>, <span class="ruby-identifier">:owner_name2</span>, <span class="ruby-identifier">:arg_name1</span>, <span class="ruby-identifier">:amount</span>, <span class="ruby-identifier">:balance</span>, <span class="ruby-identifier">:reason</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
658:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">j</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">attr</span>))
659:       <span class="ruby-keyword kw">end</span>
660:     <span class="ruby-keyword kw">end</span>
661:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="#M000041" class="method-signature">
          <span class="method-name">test_corporate_wallet_transactions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 615</span>
615:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporate_wallet_transactions</span>
616:     <span class="ruby-identifier">trans</span> = <span class="ruby-keyword kw">nil</span>
617:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
618:       <span class="ruby-identifier">trans</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_wallet_transactions</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'corporate_wallet_transactions.xml'</span>)
619:     <span class="ruby-keyword kw">end</span>
620:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">size</span>
621:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tran</span><span class="ruby-operator">|</span> <span class="ruby-identifier">tran</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">CorporateWalletTransaction</span>) }
622:     <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tran</span><span class="ruby-operator">|</span>
623:       [ <span class="ruby-identifier">:created_at</span>, <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:quantity</span>, <span class="ruby-identifier">:type_name</span>, <span class="ruby-identifier">:type_id</span>, <span class="ruby-identifier">:price</span>, 
624:         <span class="ruby-identifier">:client_id</span>, <span class="ruby-identifier">:client_name</span>, <span class="ruby-identifier">:character_id</span>, <span class="ruby-identifier">:station_id</span>, <span class="ruby-identifier">:station_name</span>, <span class="ruby-identifier">:type</span>,
625:         <span class="ruby-identifier">:transaction_for</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
626:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">tran</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">attr</span>))
627:     <span class="ruby-keyword kw">end</span>
628:     <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Time</span>, <span class="ruby-identifier">tran</span>.<span class="ruby-identifier">created_at</span>)
629:     <span class="ruby-keyword kw">end</span>
630:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="#M000018" class="method-signature">
          <span class="method-name">test_corporation_sheet_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000018-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000018-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_corporation_sheet_clean</span>
137:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporation_sheet_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'corporation_sheet.xml'</span>
138:     <span class="ruby-identifier">corporation</span> = <span class="ruby-keyword kw">nil</span>
139:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
140:       <span class="ruby-identifier">corporation</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporation_sheet</span> <span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">123</span>
141:     <span class="ruby-keyword kw">end</span>
142:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
143:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
144:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">150212025</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">id</span>
145:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Banana Republic&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">name</span>
146:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;BR&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">ticker</span>
147:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">150208955</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">ceo_id</span>)
148:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Mark Roled&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">ceo_name</span>)
149:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">60003469</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">station_id</span>)
150:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Jita IV - Caldari Business Tribunal Information Center&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">station_name</span>)
151:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Garth's testing corp of awesome sauce, win sauce as it were. In this corp...&lt;br&gt;&lt;br&gt;IT HAPPENS ALL OVER&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">description</span>
152:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">url</span>)
153:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">150430947</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">alliance_id</span>)
154:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;The Dead Rabbits&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">alliance_name</span>)
155:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">93.7</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">tax_rate</span>
156:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">member_count</span>)
157:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6300</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">member_limit</span>)
158:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">shares</span>)
159:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;DIVISION&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">divisions</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">1003</span> }.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">description</span>
160:     <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">divisions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
161:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">d</span>.<span class="ruby-identifier">key</span>)
162:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">d</span>.<span class="ruby-identifier">description</span>)
163:     <span class="ruby-keyword kw">end</span>    
164:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;Master Wallet&quot;</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">wallet_divisions</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">1000</span> }.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">description</span>
165:     <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">wallet_divisions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">wd</span><span class="ruby-operator">|</span>
166:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">wd</span>.<span class="ruby-identifier">key</span>)
167:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">wd</span>.<span class="ruby-identifier">description</span>)
168:     <span class="ruby-keyword kw">end</span>         
169:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">graphic_id</span>
170:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">681</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">color_1</span>
171:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">676</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">color_2</span>
172:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">448</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">shape_1</span>
173:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">418</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">shape_3</span>
174:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">color_3</span>
175:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">corporation</span>.<span class="ruby-identifier">logo</span>.<span class="ruby-identifier">shape_2</span>
176:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="#M000017" class="method-signature">
          <span class="method-name">test_errors_api_call</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000017-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000017-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 123</span>
123:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_errors_api_call</span>
124:     <span class="ruby-identifier">errors</span> = <span class="ruby-keyword kw">nil</span>
125:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
126:       <span class="ruby-identifier">errors</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">errors</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'errors.xml'</span>)
127:     <span class="ruby-keyword kw">end</span>
128:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">APIError</span>) }
129:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">61</span>, <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># 61 errors in total</span>
130:     <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span>
131:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">error</span>.<span class="ruby-identifier">code</span>)
132:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">error</span>.<span class="ruby-identifier">text</span>)
133:     <span class="ruby-keyword kw">end</span>
134:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="#M000026" class="method-signature">
          <span class="method-name">test_faction_war_stats_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 307</span>
307:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_faction_war_stats_clean</span>
308:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">general_faction_war_stats_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'eve_facwarstats.xml'</span>
309:     <span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>
310:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
311:       <span class="ruby-identifier">stats</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">faction_war_stats</span>
312:     <span class="ruby-keyword kw">end</span>
313:     <span class="ruby-identifier">assert_instance_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">EveFactionWarStat</span>, <span class="ruby-identifier">stats</span>)
314:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1707</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_yesterday</span>)
315:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">9737</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_last_week</span>)
316:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">27866</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_total</span>)
317:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">215674</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_yesterday</span>)
318:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1738351</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_last_week</span>)
319:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5613787</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_total</span>)
320:     
321:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_wars</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">FactionWar</span>) }
322:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_participants</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">FactionwideFactionWarParticpant</span>) }
323:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">8</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_wars</span>.<span class="ruby-identifier">size</span>)
324:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_participants</span>.<span class="ruby-identifier">size</span>)
325:     <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_wars</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">war</span><span class="ruby-operator">|</span>
326:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">war</span>.<span class="ruby-identifier">faction_id</span>)
327:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">war</span>.<span class="ruby-identifier">faction_name</span>)
328:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">war</span>.<span class="ruby-identifier">against_id</span>)
329:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">war</span>.<span class="ruby-identifier">against_name</span>)
330:     <span class="ruby-keyword kw">end</span>
331:     <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_participants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">participant</span><span class="ruby-operator">|</span>
332:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">faction_id</span>)
333:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">faction_name</span>)
334:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">systems_controlled</span>)
335:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">kills_yesterday</span>)
336:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">kills_last_week</span>)
337:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">kills_total</span>)
338:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">victory_points_yesterday</span>)
339:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">victory_points_last_week</span>)
340:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">participant</span>.<span class="ruby-identifier">victory_points_total</span>)
341:     <span class="ruby-keyword kw">end</span>
342:     <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>)
343:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">test_faction_war_system_stats_alias_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 298</span>
298:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_faction_war_system_stats_alias_clean</span>
299:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">faction_war_occupancy_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'map_facwarsystems.xml'</span>
300:     <span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>
301:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
302:       <span class="ruby-identifier">stats</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">faction_war_occupancy</span>
303:     <span class="ruby-keyword kw">end</span>
304:     <span class="ruby-identifier">test_faction_war_system_stats_clean</span>(<span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">stats</span>)
305:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">test_faction_war_system_stats_clean</span><span class="method-args">(skip_preamble = false,stats = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 275</span>
275:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_faction_war_system_stats_clean</span>(<span class="ruby-identifier">skip_preamble</span> = <span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>)
276:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">faction_war_occupancy_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'map_facwarsystems.xml'</span>
277:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">skip_preamble</span> <span class="ruby-comment cmt"># not best practice but will get the job done!</span>
278:       <span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>
279:       <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
280:         <span class="ruby-identifier">stats</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">faction_war_system_stats</span>
281:       <span class="ruby-keyword kw">end</span>
282:     <span class="ruby-keyword kw">end</span>
283:     <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">FactionWarSystemStatus</span>) }
284:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">size</span>)
285:     <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sys</span><span class="ruby-operator">|</span>
286:       <span class="ruby-comment cmt"># can't assert_not_nil faction_id or faction_name since they may be nil</span>
287:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">sys</span>.<span class="ruby-identifier">system_id</span>)
288:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">sys</span>.<span class="ruby-identifier">system_name</span>)
289:       <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">sys</span>.<span class="ruby-identifier">contested</span>)
290:     <span class="ruby-keyword kw">end</span>
291:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">faction_id</span> <span class="ruby-operator">==</span> <span class="ruby-value">500001</span> }.<span class="ruby-identifier">size</span>)
292:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">faction_id</span> <span class="ruby-operator">==</span> <span class="ruby-value">500002</span> }.<span class="ruby-identifier">size</span>)
293:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">contested</span> }.<span class="ruby-identifier">size</span>)
294:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">faction_id</span>.<span class="ruby-identifier">nil?</span> }.<span class="ruby-identifier">size</span>)
295:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">contested</span> }.<span class="ruby-identifier">size</span>)
296:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="#M000029" class="method-signature">
          <span class="method-name">test_faction_war_top_stats_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000029-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 383</span>
383:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_faction_war_top_stats_clean</span>
384:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">top_faction_war_stats_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'eve_facwartopstats.xml'</span>
385:     <span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>
386:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
387:       <span class="ruby-identifier">stats</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">faction_war_top_stats</span>
388:     <span class="ruby-keyword kw">end</span>
389:     <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">FactionWarTopStats</span>, <span class="ruby-identifier">stats</span>)
390:     [ <span class="ruby-identifier">:characters</span>, <span class="ruby-identifier">:corporations</span>, <span class="ruby-identifier">:factions</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">kind</span><span class="ruby-operator">|</span>
391:       [ <span class="ruby-identifier">:yesterday_kills</span>, <span class="ruby-identifier">:last_week_kills</span>, <span class="ruby-identifier">:total_kills</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
392:         <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Hash</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>))
393:         <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Array</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>)[<span class="ruby-identifier">attr</span>])
394:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>)[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">empty?</span>
395:         [ <span class="ruby-identifier">:name</span>, <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:kills</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c_attr</span><span class="ruby-operator">|</span>
396:           <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>)[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">nil?</span> }
397:         <span class="ruby-keyword kw">end</span>
398:       <span class="ruby-keyword kw">end</span>
399:       [ <span class="ruby-identifier">:last_week_victory_points</span>, <span class="ruby-identifier">:yesterday_victory_points</span>, <span class="ruby-identifier">:total_victory_points</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
400:         <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Hash</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>))
401:         <span class="ruby-identifier">assert_kind_of</span>(<span class="ruby-constant">Array</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>)[<span class="ruby-identifier">attr</span>])
402:         <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>)[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">empty?</span>
403:         [ <span class="ruby-identifier">:name</span>, <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:victory_points</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c_attr</span><span class="ruby-operator">|</span>
404:           <span class="ruby-identifier">assert</span> <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">kind</span>)[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">nil?</span> }
405:         <span class="ruby-keyword kw">end</span>
406:       <span class="ruby-keyword kw">end</span>
407:     <span class="ruby-keyword kw">end</span>
408:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">characters</span>[<span class="ruby-identifier">:yesterday_kills</span>].<span class="ruby-identifier">size</span>)
409:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">6</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">characters</span>[<span class="ruby-identifier">:last_week_kills</span>].<span class="ruby-identifier">size</span>)
410:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">7</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">characters</span>[<span class="ruby-identifier">:total_kills</span>].<span class="ruby-identifier">size</span>)
411:     [ <span class="ruby-identifier">:yesterday_kills</span>, <span class="ruby-identifier">:yesterday_victory_points</span>, <span class="ruby-identifier">:last_week_kills</span>,
412:       <span class="ruby-identifier">:last_week_victory_points</span>, <span class="ruby-identifier">:total_kills</span>, <span class="ruby-identifier">:total_victory_points</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
413:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">10</span>,<span class="ruby-identifier">stats</span>.<span class="ruby-identifier">corporations</span>[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">size</span>)
414:     <span class="ruby-keyword kw">end</span>
415:     [ <span class="ruby-identifier">:yesterday_kills</span>, <span class="ruby-identifier">:yesterday_victory_points</span>, <span class="ruby-identifier">:last_week_kills</span>,
416:       <span class="ruby-identifier">:last_week_victory_points</span>, <span class="ruby-identifier">:total_kills</span>, <span class="ruby-identifier">:total_victory_points</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
417:         <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>,<span class="ruby-identifier">stats</span>.<span class="ruby-identifier">factions</span>[<span class="ruby-identifier">attr</span>].<span class="ruby-identifier">size</span>)
418:     <span class="ruby-keyword kw">end</span>
419:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="#M000015" class="method-signature">
          <span class="method-name">test_for_bad_uri_passed_to_method</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
File.split exists and File is not a String or URI class as permitted in
Reve::API#get_xml. This means as a parameter it will pass through
Reve::API#compute_hash method and get to Reve::API#get_xml
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000015-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000015-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_for_bad_uri_passed_to_method</span>
112:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Exceptions</span><span class="ruby-operator">::</span><span class="ruby-constant">ReveNetworkStatusException</span> <span class="ruby-keyword kw">do</span>
113:       <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">character_sheet</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>
114:     <span class="ruby-keyword kw">end</span>
115:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000068" class="method-detail">
        <a name="M000068"></a>

        <div class="method-heading">
          <a href="#M000068" class="method-signature">
          <span class="method-name">test_format_url_request_nil_value</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000068-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000068-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1104</span>
1104:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_url_request_nil_value</span>
1105:     <span class="ruby-identifier">req</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:format_url_request</span>, { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-identifier">:world</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span> })
1106:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;?a=Hello&quot;</span>, <span class="ruby-identifier">req</span>  
1107:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">
          <a href="#M000066" class="method-signature">
          <span class="method-name">test_format_url_request_one_arg</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000066-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000066-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1094</span>
1094:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_url_request_one_arg</span>
1095:     <span class="ruby-identifier">req</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:format_url_request</span>, { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Hello&quot;</span> })
1096:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;?a=Hello&quot;</span>, <span class="ruby-identifier">req</span>
1097:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000067" class="method-detail">
        <a name="M000067"></a>

        <div class="method-heading">
          <a href="#M000067" class="method-signature">
          <span class="method-name">test_format_url_request_two_args</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000067-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000067-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1099</span>
1099:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_format_url_request_two_args</span>
1100:     <span class="ruby-identifier">req</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:format_url_request</span>, { <span class="ruby-identifier">:a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Hello&quot;</span>, <span class="ruby-identifier">:world</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;b&quot;</span> })
1101:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;?a=Hello&amp;world=b&quot;</span>, <span class="ruby-identifier">req</span>
1102:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">
          <a href="#M000064" class="method-signature">
          <span class="method-name">test_get_xml_from_filesystem</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000064-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000064-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1065</span>
1065:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get_xml_from_filesystem</span>
1066:     <span class="ruby-identifier">xmldoc</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:get_xml</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>, <span class="ruby-value str">'skill_in_training-none.xml'</span>), {} )
1067:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>, <span class="ruby-value str">'skill_in_training-none.xml'</span>)).<span class="ruby-identifier">read</span>, <span class="ruby-identifier">xmldoc</span>
1068:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">
          <a href="#M000065" class="method-signature">
          <span class="method-name">test_get_xml_from_filesystem_missing_file</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000065-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000065-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1077</span>
1077:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_get_xml_from_filesystem_missing_file</span>
1078:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span> <span class="ruby-keyword kw">do</span>
1079:       <span class="ruby-identifier">xmldoc</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:get_xml</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-identifier">rand</span>.<span class="ruby-identifier">to_s</span>), {} )
1080:     <span class="ruby-keyword kw">end</span>    
1081:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="#M000031" class="method-signature">
          <span class="method-name">test_kills_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
no need to test corporate cos they&#8216;re the same. TODO: Test with
nested losses
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000031-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 451</span>
451:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_kills_clean</span>
452:     <span class="ruby-identifier">kills_cleanly</span>(<span class="ruby-identifier">:personal_kills</span>,<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'kills.xml'</span>))
453:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="#M000009" class="method-signature">
          <span class="method-name">test_makes_a_complex_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000009-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000009-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 60</span>
60:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_makes_a_complex_hash</span>
61:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporate_wallet_trans_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'market_transactions.xml'</span>
62:     <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">userid</span> = <span class="ruby-value">999</span>
63:     <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">key</span> = <span class="ruby-value str">'aaa'</span>
64:     <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporate_wallet_transactions</span> <span class="ruby-identifier">:accountkey</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'1001'</span>, <span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">123</span>, <span class="ruby-identifier">:beforerefid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">456</span>, <span class="ruby-identifier">:just_hash</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
65:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">h</span>
66:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">'xml/market_transactions.xml:accountkey:1001:apikey:aaa:beforerefid:456:characterid:123:userid:999'</span>,<span class="ruby-identifier">h</span>
67:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="#M000007" class="method-signature">
          <span class="method-name">test_makes_a_simple_hash</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000007-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000007-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_makes_a_simple_hash</span>
49:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">alliances_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'alliances.xml'</span>
50:     <span class="ruby-identifier">h</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">alliances</span> <span class="ruby-identifier">:just_hash</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
51:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">h</span>
52:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;xml/alliances.xml&quot;</span>, <span class="ruby-identifier">h</span>    
53:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="#M000004" class="method-signature">
          <span class="method-name">test_makes_right_api_1_param</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000004-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000004-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 26</span>
26:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_makes_right_api_1_param</span>
27:     <span class="ruby-identifier">api</span> = <span class="ruby-identifier">get_api</span>(<span class="ruby-value">12345</span>)
28:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>, <span class="ruby-identifier">api</span>
29:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;12345&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">userid</span>
30:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">key</span>
31:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">charid</span>   
32:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="#M000005" class="method-signature">
          <span class="method-name">test_makes_right_api_2_param</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000005-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000005-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 33</span>
33:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_makes_right_api_2_param</span>
34:     <span class="ruby-identifier">api</span> = <span class="ruby-identifier">get_api</span>(<span class="ruby-value">12345</span>,<span class="ruby-value">54321</span>)
35:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>, <span class="ruby-identifier">api</span>
36:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;12345&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">userid</span>
37:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;54321&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">key</span>
38:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">charid</span>   
39:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="#M000006" class="method-signature">
          <span class="method-name">test_makes_right_api_3_param</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000006-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000006-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 40</span>
40:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_makes_right_api_3_param</span>
41:     <span class="ruby-identifier">api</span> = <span class="ruby-identifier">get_api</span>(<span class="ruby-value">12345</span>,<span class="ruby-value">54321</span>,<span class="ruby-value str">'abcde'</span>)
42:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>, <span class="ruby-identifier">api</span>
43:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;12345&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">userid</span>
44:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;54321&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">key</span>
45:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;abcde&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">charid</span>   
46:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="#M000003" class="method-signature">
          <span class="method-name">test_makes_right_api_empty</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000003-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000003-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_makes_right_api_empty</span>
20:     <span class="ruby-identifier">api</span> = <span class="ruby-identifier">get_api</span>
21:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>, <span class="ruby-identifier">api</span>
22:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">userid</span>
23:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">key</span>
24:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">api</span>.<span class="ruby-identifier">charid</span>
25:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="#M000045" class="method-signature">
          <span class="method-name">test_map_jumps_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000045-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000045-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 672</span>
672:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_map_jumps_clean</span>
673:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">map_jumps_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'mapjumps.xml'</span>
674:     <span class="ruby-identifier">mapjumps</span> = <span class="ruby-keyword kw">nil</span>
675:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
676:       <span class="ruby-identifier">mapjumps</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">map_jumps</span>
677:     <span class="ruby-keyword kw">end</span>
678:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
679:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
680:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">5</span>, <span class="ruby-identifier">mapjumps</span>.<span class="ruby-identifier">size</span>
681:     <span class="ruby-identifier">mapjumps</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">jump</span><span class="ruby-operator">|</span>
682:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">jump</span>.<span class="ruby-identifier">system_id</span>
683:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">jump</span>.<span class="ruby-identifier">jumps</span>
684:     <span class="ruby-keyword kw">end</span>
685:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="#M000046" class="method-signature">
          <span class="method-name">test_map_kills_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000046-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000046-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 687</span>
687:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_map_kills_clean</span>
688:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">map_kills_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'mapkills.xml'</span>
689:     <span class="ruby-identifier">mapkills</span> = <span class="ruby-keyword kw">nil</span>
690:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
691:       <span class="ruby-identifier">mapkills</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">map_kills</span>
692:     <span class="ruby-keyword kw">end</span>
693:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
694:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
695:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">mapkills</span>.<span class="ruby-identifier">size</span>
696:     <span class="ruby-identifier">mapkills</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">kill</span><span class="ruby-operator">|</span>
697:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">system_id</span>
698:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">faction_kills</span>
699:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">ship_kills</span>
700:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">pod_kills</span>
701:     <span class="ruby-keyword kw">end</span>
702:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="#M000039" class="method-signature">
          <span class="method-name">test_market_orders_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 567</span>
567:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_market_orders_clean</span>
568:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_market_orders_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'marketorders.xml'</span>
569:     <span class="ruby-identifier">orders</span> = <span class="ruby-keyword kw">nil</span>
570:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
571:       <span class="ruby-identifier">orders</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_market_orders</span>
572:     <span class="ruby-keyword kw">end</span>
573:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
574:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
575:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">11</span>, <span class="ruby-identifier">orders</span>.<span class="ruby-identifier">size</span>    
576:     <span class="ruby-identifier">buys</span> = <span class="ruby-identifier">sells</span> = <span class="ruby-value">0</span>
577:     <span class="ruby-identifier">orders</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">order</span><span class="ruby-operator">|</span>
578:       [ <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:character_id</span>, <span class="ruby-identifier">:station_id</span>, <span class="ruby-identifier">:volume_entered</span>, <span class="ruby-identifier">:volume_remaining</span>, <span class="ruby-identifier">:minimum_volume</span>,
579:       <span class="ruby-identifier">:order_state</span>, <span class="ruby-identifier">:type_id</span>, <span class="ruby-identifier">:range</span>, <span class="ruby-identifier">:account_key</span>, <span class="ruby-identifier">:duration</span>, <span class="ruby-identifier">:escrow</span>, <span class="ruby-identifier">:price</span>, <span class="ruby-identifier">:bid</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
580:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">order</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">attr</span>))
581:       <span class="ruby-keyword kw">end</span>
582:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">created_at</span>
583:       <span class="ruby-identifier">assert</span> [<span class="ruby-constant">TrueClass</span>, <span class="ruby-constant">FalseClass</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">order</span>.<span class="ruby-identifier">bid</span>.<span class="ruby-identifier">class</span>)
584:       <span class="ruby-identifier">buys</span>  <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">order</span>.<span class="ruby-identifier">bid</span>
585:       <span class="ruby-identifier">sells</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span>   <span class="ruby-identifier">order</span>.<span class="ruby-identifier">bid</span>
586:       <span class="ruby-identifier">assert_not_equal</span>(<span class="ruby-value">0</span>, <span class="ruby-identifier">order</span>.<span class="ruby-identifier">character_id</span>)
587:     <span class="ruby-keyword kw">end</span>
588:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">buys</span>
589:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">sells</span>
590:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="#M000052" class="method-signature">
          <span class="method-name">test_member_corporation_sheet_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000052-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000052-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 819</span>
819:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_member_corporation_sheet_clean</span>
820:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporation_sheet_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'corporation_sheet.xml'</span>
821:     <span class="ruby-identifier">sheet</span> = <span class="ruby-keyword kw">nil</span>
822:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
823:       <span class="ruby-identifier">sheet</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporation_sheet</span>
824:     <span class="ruby-keyword kw">end</span>
825:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
826:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
827:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">divisions</span>.<span class="ruby-identifier">size</span>
828:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">wallet_divisions</span>.<span class="ruby-identifier">size</span>
829:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="#M000051" class="method-signature">
          <span class="method-name">test_member_tracking_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000051-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000051-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 792</span>
792:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_member_tracking_clean</span>
793:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">member_tracking_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'member_tracking.xml'</span>
794:     <span class="ruby-identifier">members</span> = <span class="ruby-keyword kw">nil</span>
795:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
796:       <span class="ruby-identifier">members</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">member_tracking</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
797:     <span class="ruby-keyword kw">end</span>
798:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
799:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
800:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">members</span>.<span class="ruby-identifier">size</span>
801:     <span class="ruby-identifier">members</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span><span class="ruby-operator">|</span>
802:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">character_id</span>
803:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">character_name</span>
804:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">start_time</span>
805:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">base_id</span>
806:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">base</span>
807:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">title</span>
808:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">logon_time</span>
809:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">logoff_time</span>
810:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">location_id</span>
811:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">location</span>
812:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">ship_type_id</span>
813:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">ship_type</span>
814:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">roles</span>
815:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">member</span>.<span class="ruby-identifier">grantable_roles</span>
816:     <span class="ruby-keyword kw">end</span>
817:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="#M000054" class="method-signature">
          <span class="method-name">test_no_skill_in_training_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000054-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000054-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 843</span>
843:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_no_skill_in_training_clean</span>
844: <span class="ruby-comment cmt">#    Reve::API.training_skill_url = XML_BASE + 'skill_in_training-none.xml'</span>
845:     <span class="ruby-identifier">skill</span> = <span class="ruby-keyword kw">nil</span>
846:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
847:       <span class="ruby-identifier">skill</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">skill_in_training</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'skill_in_training-none.xml'</span>)
848:     <span class="ruby-keyword kw">end</span>
849:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
850:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
851:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">skill_in_training</span>
852:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="#M000053" class="method-signature">
          <span class="method-name">test_nonmember_corporation_sheet_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000053-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000053-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 831</span>
831:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_nonmember_corporation_sheet_clean</span>
832:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">corporation_sheet_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'nonmember_corpsheet.xml'</span>
833:     <span class="ruby-identifier">sheet</span> = <span class="ruby-keyword kw">nil</span>
834:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
835:       <span class="ruby-identifier">sheet</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporation_sheet</span> <span class="ruby-identifier">:corporationid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">134300597</span>
836:     <span class="ruby-keyword kw">end</span>
837:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
838:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
839:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">divisions</span>.<span class="ruby-identifier">size</span>
840:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">sheet</span>.<span class="ruby-identifier">wallet_divisions</span>.<span class="ruby-identifier">size</span>
841:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">test_personal_factional_war_stats_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 344</span>
344:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_personal_factional_war_stats_clean</span>
345:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_faction_war_stats_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'char_facwarstats.xml'</span>
346:     <span class="ruby-identifier">stats</span> = <span class="ruby-keyword kw">nil</span>
347:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
348:       <span class="ruby-identifier">stats</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_faction_war_stats</span>
349:     <span class="ruby-keyword kw">end</span>
350:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">PersonalFactionWarParticpant</span>, <span class="ruby-identifier">stats</span>
351:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">500001</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_id</span>)  
352:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;Caldari State&quot;</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">faction_name</span>)
353:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value str">&quot;2008-06-13 20:38:00&quot;</span>.<span class="ruby-identifier">to_time</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">enlisted_at</span>)
354:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">1</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">current_rank</span>)
355:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">2</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">highest_rank</span>)
356:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">3</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_yesterday</span>)
357:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">4</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_last_week</span>)
358:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">5</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">kills_total</span>)
359:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">124</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_yesterday</span>)
360:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">124</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_last_week</span>)
361:     <span class="ruby-identifier">assert_equal</span>(<span class="ruby-value">506</span>, <span class="ruby-identifier">stats</span>.<span class="ruby-identifier">victory_points_total</span>)
362:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="#M000022" class="method-signature">
          <span class="method-name">test_personal_industry_jobs_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000022-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000022-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 231</span>
231:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_personal_industry_jobs_clean</span>
232:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_industry_jobs_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'industryjobs.xml'</span>
233:     <span class="ruby-identifier">jobs</span> = <span class="ruby-keyword kw">nil</span>
234:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
235:       <span class="ruby-identifier">jobs</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_industry_jobs</span>
236:     <span class="ruby-keyword kw">end</span>
237:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">size</span>
238:     <span class="ruby-comment cmt"># All things got assigned something.</span>
239:     <span class="ruby-identifier">jobs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">job</span><span class="ruby-operator">|</span>
240:       [ <span class="ruby-identifier">:id</span>, <span class="ruby-identifier">:assembly_line_id</span>, <span class="ruby-identifier">:container_id</span>, <span class="ruby-identifier">:installed_item_id</span>, <span class="ruby-identifier">:installed_item_location_id</span>,
241:         <span class="ruby-identifier">:installed_item_quantity</span>, <span class="ruby-identifier">:installed_item_productivity_level</span>, <span class="ruby-identifier">:installed_item_material_level</span>,
242:         <span class="ruby-identifier">:installed_item_licensed_production_runs_remaining</span>, <span class="ruby-identifier">:output_location_id</span>, <span class="ruby-identifier">:installer_id</span>, <span class="ruby-identifier">:runs</span>,
243:         <span class="ruby-identifier">:licensed_production_runs</span>, <span class="ruby-identifier">:installed_system_id</span>, <span class="ruby-identifier">:container_location_id</span>, <span class="ruby-identifier">:material_multiplier</span>,
244:         <span class="ruby-identifier">:char_material_multiplier</span>, <span class="ruby-identifier">:time_multiplier</span>, <span class="ruby-identifier">:char_time_multiplier</span>, <span class="ruby-identifier">:installed_item_type_id</span>,
245:         <span class="ruby-identifier">:output_type_id</span>, <span class="ruby-identifier">:container_type_id</span>, <span class="ruby-identifier">:installed_item_copy</span>, <span class="ruby-identifier">:completed</span>, <span class="ruby-identifier">:completed_successfully</span>, 
246:         <span class="ruby-identifier">:installed_item_flag</span>, <span class="ruby-identifier">:output_flag</span>, <span class="ruby-identifier">:activity_id</span>, <span class="ruby-identifier">:completed_status</span>, <span class="ruby-identifier">:installed_at</span>, 
247:         <span class="ruby-identifier">:begin_production_at</span>, <span class="ruby-identifier">:end_production_at</span>, <span class="ruby-identifier">:pause_production_time</span> ].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">att</span><span class="ruby-operator">|</span>
248:           <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">job</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">att</span>)
249:       <span class="ruby-keyword kw">end</span>
250:     <span class="ruby-keyword kw">end</span>
251:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="#M000038" class="method-signature">
          <span class="method-name">test_reftypes_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 552</span>
552:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_reftypes_clean</span>
553:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">reftypes_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'reftypes.xml'</span>
554:     <span class="ruby-identifier">reftypes</span> = <span class="ruby-keyword kw">nil</span>
555:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
556:       <span class="ruby-identifier">reftypes</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">ref_types</span>
557:     <span class="ruby-keyword kw">end</span>
558:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
559:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
560:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">6</span>, <span class="ruby-identifier">reftypes</span>.<span class="ruby-identifier">size</span>
561:     <span class="ruby-identifier">reftypes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">reftype</span><span class="ruby-operator">|</span>
562:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">reftype</span>.<span class="ruby-identifier">id</span>
563:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">reftype</span>.<span class="ruby-identifier">name</span>
564:     <span class="ruby-keyword kw">end</span>
565:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="#M000014" class="method-signature">
          <span class="method-name">test_saving_xml_when_404</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000014-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000014-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 98</span>
 98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_saving_xml_when_404</span>
 99:     <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">save_path</span> = <span class="ruby-constant">SAVE_PATH</span>
100:     <span class="ruby-identifier">alliances</span> = <span class="ruby-keyword kw">nil</span>
101:     <span class="ruby-identifier">assert_raise</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span> <span class="ruby-keyword kw">do</span>
102:       <span class="ruby-identifier">alliances</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">alliances</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-identifier">rand</span>.<span class="ruby-identifier">to_s</span>)      
103:     <span class="ruby-keyword kw">end</span>
104:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
105:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">0</span>, <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">SAVE_PATH</span>,<span class="ruby-value str">'alliances'</span>,<span class="ruby-value str">'*.xml'</span>)).<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># no XML saved</span>
106:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="#M000012" class="method-signature">
          <span class="method-name">test_saving_xml_when_save_path_is_nil</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000012-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000012-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_saving_xml_when_save_path_is_nil</span>
85:     <span class="ruby-identifier">assert_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">save_path</span>
86:     <span class="ruby-identifier">alliances</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">alliances</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'alliances.xml'</span>)
87:     <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">SAVE_PATH</span>,<span class="ruby-value str">'alliances'</span>,<span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'.xml'</span>))
88:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="#M000013" class="method-signature">
          <span class="method-name">test_saving_xml_with_bad_short_tag</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
We want to see &lt;url /&gt; in the saved XML because that&#8216;s what
came from the source
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000013-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000013-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 91</span>
91:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_saving_xml_with_bad_short_tag</span>
92:     <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">save_path</span> = <span class="ruby-constant">SAVE_PATH</span>
93:     <span class="ruby-ivar">@corpsheet</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">corporation_sheet</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'corporation_sheet.xml'</span>)
94:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-ivar">@corpsheet</span>.<span class="ruby-identifier">url</span>
95:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">SAVE_PATH</span>,<span class="ruby-value str">'corporation_sheet'</span>,<span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'.xml'</span>)).<span class="ruby-identifier">read</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;&lt;url /&gt;&quot;</span>)  
96:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="#M000011" class="method-signature">
          <span class="method-name">test_saving_xml_works</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000011-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000011-source">
<pre>
    <span class="ruby-comment cmt"># File test/test_reve.rb, line 75</span>
75:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_saving_xml_works</span>
76:     <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">save_path</span> = <span class="ruby-constant">SAVE_PATH</span>
77:     <span class="ruby-identifier">alliances</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">alliances</span> <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'alliances.xml'</span>)
78:     <span class="ruby-identifier">assert</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">SAVE_PATH</span>,<span class="ruby-value str">'alliances'</span>,<span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'.xml'</span>))
79:     <span class="ruby-identifier">assert_equal</span>(
80:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'alliances.xml'</span>)).<span class="ruby-identifier">read</span>,
81:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">SAVE_PATH</span>,<span class="ruby-value str">'alliances'</span>,<span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'.xml'</span>)).<span class="ruby-identifier">read</span>)
82:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="#M000047" class="method-signature">
          <span class="method-name">test_skill_tree_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000047-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000047-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 704</span>
704:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_skill_tree_clean</span>
705:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">skill_tree_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'skilltree.xml'</span>
706:     <span class="ruby-identifier">skilltrees</span> = <span class="ruby-keyword kw">nil</span>
707:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
708:       <span class="ruby-identifier">skilltrees</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">skill_tree</span>
709:     <span class="ruby-keyword kw">end</span>
710:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
711:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
712:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">2</span>, <span class="ruby-identifier">skilltrees</span>.<span class="ruby-identifier">size</span>
713:     <span class="ruby-identifier">skilltrees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">skill</span><span class="ruby-operator">|</span>
714:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">type_id</span>
715:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">name</span>
716:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">rank</span>
717:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">description</span>
718:       <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">bonuses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bonus</span><span class="ruby-operator">|</span>
719:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">SkillBonus</span>, <span class="ruby-identifier">bonus</span>
720:       <span class="ruby-keyword kw">end</span>
721:       <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">attribs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrib</span><span class="ruby-operator">|</span>
722:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">RequiredAttribute</span>, <span class="ruby-identifier">attrib</span>
723:       <span class="ruby-keyword kw">end</span>
724:       <span class="ruby-identifier">skill</span>.<span class="ruby-identifier">required_skills</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">req</span><span class="ruby-operator">|</span>
725:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">SkillRequirement</span>, <span class="ruby-identifier">req</span>
726:       <span class="ruby-keyword kw">end</span>
727:     <span class="ruby-keyword kw">end</span>
728:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="#M000037" class="method-signature">
          <span class="method-name">test_sovereignty_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 535</span>
535:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_sovereignty_clean</span>
536:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">sovereignty_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'sovereignty.xml'</span>
537:     <span class="ruby-identifier">sovereignties</span> = <span class="ruby-keyword kw">nil</span>
538:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
539:       <span class="ruby-identifier">sovereignties</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">sovereignty</span>
540:     <span class="ruby-keyword kw">end</span>
541:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
542:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
543:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">sovereignties</span>.<span class="ruby-identifier">size</span>
544:     <span class="ruby-identifier">sovereignties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sovereignty</span><span class="ruby-operator">|</span>
545:       <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">Sovereignty</span>, <span class="ruby-identifier">sovereignty</span>
546:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sovereignty</span>.<span class="ruby-identifier">system_id</span>
547:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sovereignty</span>.<span class="ruby-identifier">constellation_sovereignty</span>
548:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">sovereignty</span>.<span class="ruby-identifier">system_name</span>
549:     <span class="ruby-keyword kw">end</span>
550:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="#M000035" class="method-signature">
          <span class="method-name">test_starbase_fuel_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000035-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 496</span>
496:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_starbase_fuel_clean</span>
497:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">starbasedetail_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'starbase_fuel.xml'</span>
498:     <span class="ruby-identifier">fuels</span> = <span class="ruby-keyword kw">nil</span>
499:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
500:       <span class="ruby-identifier">fuels</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">starbase_fuel</span>(<span class="ruby-identifier">:starbaseid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>)
501:     <span class="ruby-keyword kw">end</span>
502:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
503:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
504:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">14</span>, <span class="ruby-identifier">fuels</span>.<span class="ruby-identifier">size</span>
505:     <span class="ruby-identifier">fuels</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">fuel</span><span class="ruby-operator">|</span>
506:       <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">fuel</span>.<span class="ruby-identifier">starbase_id</span>
507:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">fuel</span>.<span class="ruby-identifier">type_id</span>
508:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">fuel</span>.<span class="ruby-identifier">quantity</span>
509:     <span class="ruby-keyword kw">end</span>
510:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="#M000034" class="method-signature">
          <span class="method-name">test_starbases_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000034-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 477</span>
477:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_starbases_clean</span>
478:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">starbases_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'starbases.xml'</span>
479:     <span class="ruby-identifier">bases</span> = <span class="ruby-keyword kw">nil</span>
480:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
481:       <span class="ruby-identifier">bases</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">starbases</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
482:     <span class="ruby-keyword kw">end</span>
483:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
484:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
485:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">4</span>, <span class="ruby-identifier">bases</span>.<span class="ruby-identifier">size</span>
486:     <span class="ruby-identifier">bases</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">starbase</span><span class="ruby-operator">|</span>
487:       <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">Starbase</span>, <span class="ruby-identifier">starbase</span>
488:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">starbase</span>.<span class="ruby-identifier">type_id</span>
489:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">starbase</span>.<span class="ruby-identifier">type_name</span>
490:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">starbase</span>.<span class="ruby-identifier">id</span>
491:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">starbase</span>.<span class="ruby-identifier">system_id</span>
492:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">starbase</span>.<span class="ruby-identifier">system_name</span>
493:     <span class="ruby-keyword kw">end</span>
494:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000069" class="method-detail">
        <a name="M000069"></a>

        <div class="method-heading">
          <a href="#M000069" class="method-signature">
          <span class="method-name">test_to_time_method</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
make sure we can make a Time object
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000069-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000069-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1110</span>
1110:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_time_method</span>
1111:     <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;2008-01-23 10:32:20&quot;</span>
1112:     <span class="ruby-identifier">real</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2008</span>,<span class="ruby-value">01</span>,<span class="ruby-value">23</span>,<span class="ruby-value">10</span>,<span class="ruby-value">32</span>,<span class="ruby-value">20</span>)
1113:     <span class="ruby-identifier">time</span> = <span class="ruby-keyword kw">nil</span>
1114:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1115:       <span class="ruby-identifier">time</span>  = <span class="ruby-identifier">str</span>.<span class="ruby-identifier">to_time</span>
1116:     <span class="ruby-keyword kw">end</span>
1117:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>,<span class="ruby-identifier">time</span>
1118:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">real</span>,<span class="ruby-identifier">time</span>
1119:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="#M000048" class="method-signature">
          <span class="method-name">test_wallet_balance_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000048-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000048-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 730</span>
730:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wallet_balance_clean</span>
731:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_wallet_balance_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'wallet_balance.xml'</span>
732:     <span class="ruby-identifier">balance</span> = <span class="ruby-keyword kw">nil</span>
733:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
734:       <span class="ruby-identifier">balance</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_wallet_balance</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
735:     <span class="ruby-keyword kw">end</span>
736:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
737:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
738:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">7</span>, <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">size</span>
739:     <span class="ruby-identifier">balance</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">bal</span><span class="ruby-operator">|</span>
740:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">bal</span>.<span class="ruby-identifier">account_id</span>
741:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">bal</span>.<span class="ruby-identifier">account_key</span>
742:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">bal</span>.<span class="ruby-identifier">balance</span>
743:     <span class="ruby-keyword kw">end</span>
744:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="#M000050" class="method-signature">
          <span class="method-name">test_wallet_journal_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000050-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000050-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 770</span>
770:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wallet_journal_clean</span>
771:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_wallet_journal_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'wallet_journal.xml'</span>
772:     <span class="ruby-identifier">journal</span> = <span class="ruby-keyword kw">nil</span>
773:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
774:       <span class="ruby-identifier">journal</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_wallet_journal</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
775:     <span class="ruby-keyword kw">end</span>
776:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
777:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
778:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">8</span>, <span class="ruby-identifier">journal</span>.<span class="ruby-identifier">size</span>
779:     <span class="ruby-identifier">journal</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">j</span><span class="ruby-operator">|</span>
780:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">date</span>
781:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">ref_id</span>
782:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">reftype_id</span>
783:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">owner_name1</span>
784:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">owner_name2</span>
785:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">arg_name1</span>
786:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">amount</span>
787:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">balance</span>
788:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">j</span>.<span class="ruby-identifier">reason</span>
789:     <span class="ruby-keyword kw">end</span>
790:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="#M000049" class="method-signature">
          <span class="method-name">test_wallet_transactions_clean</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000049-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000049-source">
<pre>
     <span class="ruby-comment cmt"># File test/test_reve.rb, line 746</span>
746:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_wallet_transactions_clean</span>
747:     <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">personal_wallet_trans_url</span> = <span class="ruby-constant">XML_BASE</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'market_transactions.xml'</span>
748:     <span class="ruby-identifier">trans</span> = <span class="ruby-keyword kw">nil</span>
749:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
750:       <span class="ruby-identifier">trans</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">personal_wallet_transactions</span>(<span class="ruby-identifier">:characterid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
751:     <span class="ruby-keyword kw">end</span>
752:     <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">last_hash</span>
753:     <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">cached_until</span>
754:     <span class="ruby-identifier">assert_instance_of</span> <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">Classes</span><span class="ruby-operator">::</span><span class="ruby-constant">PersonalWalletTransaction</span>, <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">first</span>
755:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">9</span>, <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">size</span>
756:     <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
757:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">created_at</span>
758:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span>
759:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">quantity</span>
760:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">type_name</span>
761:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">type_id</span>
762:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">price</span>
763:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">client_name</span>
764:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">station_id</span>
765:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">station_name</span>
766:       <span class="ruby-identifier">assert_not_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">type</span>
767:     <span class="ruby-keyword kw">end</span>
768:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000070" class="method-detail">
        <a name="M000070"></a>

        <div class="method-heading">
          <a href="#M000070" class="method-signature">
          <span class="method-name">get_api</span><span class="method-args">(userid = nil, apikey = nil, charid = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000070-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000070-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1122</span>
1122:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_api</span>(<span class="ruby-identifier">userid</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">apikey</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">charid</span> = <span class="ruby-keyword kw">nil</span>)
1123:     <span class="ruby-identifier">api</span> = <span class="ruby-constant">Reve</span><span class="ruby-operator">::</span><span class="ruby-constant">API</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">userid</span>, <span class="ruby-identifier">apikey</span>, <span class="ruby-identifier">charid</span>)
1124:     <span class="ruby-identifier">api</span>.<span class="ruby-identifier">save_path</span> = <span class="ruby-keyword kw">nil</span>
1125:     <span class="ruby-identifier">api</span>
1126:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000071" class="method-detail">
        <a name="M000071"></a>

        <div class="method-heading">
          <a href="#M000071" class="method-signature">
          <span class="method-name">kills_cleanly</span><span class="method-args">(meth = :personal_kills,url = File.join(XML_BASE,'kills.xml'))</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
no need to test corporate cos they&#8216;re the same. TODO: Test with
nested losses
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000071-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000071-source">
<pre>
      <span class="ruby-comment cmt"># File test/test_reve.rb, line 1130</span>
1130:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">kills_cleanly</span>(<span class="ruby-identifier">meth</span> = <span class="ruby-identifier">:personal_kills</span>,<span class="ruby-identifier">url</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">XML_BASE</span>,<span class="ruby-value str">'kills.xml'</span>))
1131:     <span class="ruby-identifier">kills</span> = <span class="ruby-keyword kw">nil</span>
1132:     <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword kw">do</span>
1133:       <span class="ruby-identifier">kills</span> = <span class="ruby-ivar">@api</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>,{<span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">url</span>})
1134:     <span class="ruby-keyword kw">end</span>
1135:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">10</span>, <span class="ruby-identifier">kills</span>.<span class="ruby-identifier">size</span>
1136:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">10</span>, <span class="ruby-identifier">kills</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">victim</span>.<span class="ruby-identifier">name</span> }.<span class="ruby-identifier">nitems</span> <span class="ruby-comment cmt"># i should have 10 good victim names to match with 10 kills</span>
1137:     
1138:     <span class="ruby-comment cmt"># Process the Kills here to get the number of &quot;Contained Losses&quot; - KillLoss that are contained within another</span>
1139:     <span class="ruby-comment cmt"># KillLoss (like a Giant Secure Container); there should only be one contained loss and should be </span>
1140:     <span class="ruby-comment cmt"># 64 losses (including the contained_losses)</span>
1141:     <span class="ruby-identifier">losses</span> = <span class="ruby-identifier">kills</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">losses</span> }.<span class="ruby-identifier">flatten</span>
1142:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">64</span>, <span class="ruby-identifier">losses</span>.<span class="ruby-identifier">size</span>
1143:     <span class="ruby-identifier">contained_losses</span> = <span class="ruby-identifier">losses</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">loss</span><span class="ruby-operator">|</span> <span class="ruby-identifier">loss</span>.<span class="ruby-identifier">contained_losses</span>  }.<span class="ruby-identifier">flatten</span>
1144:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">contained_losses</span>.<span class="ruby-identifier">size</span>
1145: 
1146:     <span class="ruby-identifier">attacker_names</span> = <span class="ruby-identifier">kills</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">attackers</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">name</span> } }.<span class="ruby-identifier">flatten</span>
1147:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">25</span>, <span class="ruby-identifier">attacker_names</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># total of 25 attackers (24 players + 1 NPC)</span>
1148:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">attacker_names</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-keyword kw">nil</span>).<span class="ruby-identifier">size</span> <span class="ruby-comment cmt"># npc exists once</span>
1149:     <span class="ruby-identifier">assert_equal</span> <span class="ruby-value">24</span>, <span class="ruby-identifier">attacker_names</span>.<span class="ruby-identifier">nitems</span> <span class="ruby-comment cmt"># 24 player attackers</span>
1150:     
1151:     <span class="ruby-identifier">kills</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">kill</span><span class="ruby-operator">|</span>
1152:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Integer</span>, <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">id</span>
1153:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Integer</span>, <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">system_id</span>
1154:       <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Time</span>, <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">created_at</span>
1155:       <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">moon_id</span> <span class="ruby-comment cmt"># the ones in the kills.xml are all nil</span>
1156:       <span class="ruby-identifier">kill</span>.<span class="ruby-identifier">losses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">loss</span><span class="ruby-operator">|</span>
1157:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">loss</span>.<span class="ruby-identifier">type_id</span>)
1158:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">loss</span>.<span class="ruby-identifier">flag</span>)
1159:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">loss</span>.<span class="ruby-identifier">quantity_dropped</span>)
1160:         <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">loss</span>.<span class="ruby-identifier">quantity_destroyed</span>)
1161:         <span class="ruby-identifier">loss</span>.<span class="ruby-identifier">contained_losses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">closs</span><span class="ruby-operator">|</span>
1162:           <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">closs</span>.<span class="ruby-identifier">type_id</span>)
1163:           <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">closs</span>.<span class="ruby-identifier">flag</span>)
1164:           <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">closs</span>.<span class="ruby-identifier">quantity_dropped</span>)
1165:           <span class="ruby-identifier">assert_not_nil</span>(<span class="ruby-identifier">closs</span>.<span class="ruby-identifier">quantity_destroyed</span>)
1166:         <span class="ruby-keyword kw">end</span>
1167:       <span class="ruby-keyword kw">end</span>
1168:     <span class="ruby-keyword kw">end</span>
1169:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>